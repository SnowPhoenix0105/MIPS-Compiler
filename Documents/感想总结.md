# 感想总结

## 总体感想

1. 第一次单人完成这种代码量的项目, 并且很好践行了先写文档, 一边写主体结构一遍写单元测试的开发流程;
2. C++水平突飞猛进, 最开始写语法分析的时候智能指针满天飞, 后来开始通过引用传值等等进行了替代;
3. 编译优化阶段, 很多优化方法在纸上写起来比较容易, 但是在用代码写起来就很困难, 比如从一个中间代码四元式中辨认哪些变量被修改了, 哪些变量被使用了等等;
4. 最困难的地方其实是递归下降语法分析那里, 主要是语法分析, 错误处理, 符号表管理, 中间代码生成全耦合在一起, 如果再写一个新的编译器, 语法分析这里, 我一定会先设计好带属性的翻译文法, 然后将各个翻译动作在他处实现好, 最后再写递归下降;
5. 错过了申优文档的提交时间, 导致心态爆炸, 很多半成品优化都没有继续写了.

最后贴一下代码量统计结果:
1. Source只统计了Develop文件夹, 这是一个生成目标为类库的项目, 相比于完整的项目只少了main函数;
2. 所有的黑盒测试的testfile都被算作C语言文件了;
3. TotalFiles那里应该Source被算了两遍, 因为通过脚本将`gbk`编码转换成`utf8`是copy, 而没改动原文件;
4. Assembly应该包括生成的mips代码和各个阶段的中间代码;
5. Markdown都是文档, 没错;
6. python就是一些转码打包, 测试样例生成器, 测试样例命名格式化器之类的;
7. 删掉了一些无用的统计信息(进度条信息);


```周一 2020/12/21  20:24:58.27 
 
 
============================= Total Files ============================= 
    1188 text files.
classified 1188 files
Duplicate file check 1188 files (833 known unique)                
    1103 unique files.                      
     961 files ignored.

github.com/AlDanial/cloc v 1.86  T=2.66 s (174.2 files/s, 26119.7 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
Assembly                       184           2761             25          28248
C++                             64           1324            645          15947
C/C++ Header                    52           1540            965           6854
C                              129            601              0           6851
Markdown                        11            480              0           1582
XML                             18              0              0           1234
Python                           3             49             40            238
DOS Batch                        1             14              0             30
JSON                             1              0              0              8
-------------------------------------------------------------------------------
SUM:                           463           6769           1675          60992
-------------------------------------------------------------------------------
 
 
============================= Source Files ============================= 
      96 text files.
classified 96 files
      92 unique files.                              
      65 files ignored.

github.com/AlDanial/cloc v 1.86  T=0.31 s (167.2 files/s, 43177.6 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
C++                             20            584            323           7337
C/C++ Header                    24            711            426           3065
C                                5             52              0            606
Python                           3             49             40            238
-------------------------------------------------------------------------------
SUM:                            52           1396            789          11246
-------------------------------------------------------------------------------
 
 
============================== Test Files ============================== 
    1050 text files.
classified 1050 files
Duplicate file check 1050 files (721 known unique)                                  
     978 unique files.      
    1102 files ignored.

github.com/AlDanial/cloc v 1.86  T=1.53 s (107.6 files/s, 7585.3 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
C                              129            601              0           6851
C++                             32            310             22           2864
C/C++ Header                     4            114            112            756
-------------------------------------------------------------------------------
SUM:                           165           1025            134          10471
-------------------------------------------------------------------------------
 
 
============================ Document Files ============================ 
      17 text files.
classified 17 files
      17 unique files.                              
       7 files ignored.

github.com/AlDanial/cloc v 1.86  T=0.10 s (107.9 files/s, 20227.6 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
Markdown                        11            480              0           1582
-------------------------------------------------------------------------------
SUM:                            11            480              0           1582
-------------------------------------------------------------------------------

```

## 改进建议

1. 申优文档在竞速排序作业一的ddl提交着实离谱, 申优文档应该是仔仔细细认真反思总结的文档, 结果卡在竞速排序作业一那样十分紧张的节点, 不少人都是随便写了点交了; 而且竞速排序二没有结束, 大家都还可以继续优化.